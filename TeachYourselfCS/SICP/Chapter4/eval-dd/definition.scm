(define (install-eval-definition-pkg)
  (define (eval-definition exp env)
    (define-variable! (definition-variable exp)
                      (eval (definition-value exp) env)
                      env))
  (define (definition-variable exp)
    (cadr exp))
  (define (definition-value exp)
    (caddr exp))

  (define (define-variable! variable value env)
    (let ((frame (first-frame env)))
      (define (scan vars vals)
        (cond ((null? vars)
               (add-binding-to-frame! variable value frame))
              ((eq? (car vars) variable) (set-car! vals value))
              (else (scan (cdr vars) (cdr vals)))))
      (scan (frame-variables frame) (frame-values frame)))
      'define-variable-ok)
  (put 'eval 'define eval-definition)
  'eval-definition-pkg-ok)